<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Add Google Fonts link BEFORE any styles -->
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">

    <style>

/* Fix for dropdown being cut off at header boundary */
.video-header, .site-header {
  overflow: visible !important;
  position: relative !important;
  z-index: 100 !important; /* High enough but lower than dropdown */
}

#adminDropdown {
  position: relative !important;
  z-index: 1000 !important; /* Higher than header */
}

#adminDropdown .dropdown-menu {
  position: absolute !important;
  top: 100% !important;
  left: 0 !important;
  min-width: 200px !important;
  background-color: white !important;
  box-shadow: 0 2px 15px rgba(0,0,0,0.3) !important;
  border-radius: 4px !important;
  padding: 10px 0 !important;
  display: none !important;
  z-index: 1001 !important; /* Higher than the dropdown parent */
  max-height: none !important; /* Prevent height limitation */
  clip: auto !important; /* Prevent clipping */
}

/* Ensure the header doesn't restrict its child elements */
.header-container {
  overflow: visible !important;
  position: relative !important;
}

/* Make the navigation container also have visible overflow */
.site-navigation {
  overflow: visible !important;
  position: relative !important;
}

/* Fix for the hover state */
#adminDropdown:hover .dropdown-menu {
  display: block !important;
}

.cta-button {
    background: linear-gradient(45deg, var(--accent), var(--primary));
    color: white;
    padding: 10px 20px;
    border-radius: 30px;
    font-weight: 600;
    text-decoration: none;
    transition: all 0.3s ease;
    box-shadow: 0 4px 12px rgba(0, 123, 255, 0.3);
    display: inline-block;
}

.cta-button:hover {
    transform: translateY(-3px);
    box-shadow: 0 6px 15px rgba(0, 123, 255, 0.4);
}

:root {
    --primary: #0056b3;
    --secondary: #00386b;
    --accent: #00aaff;
    --light: #f8f9fa;
    --dark: #343a40;
    --success: #28a745;
}

/* Override the hover line effect specifically for the logout button */
.site-navigation a.cta-button::after {
    display: none; /* This removes the after pseudo-element that creates the line */
}

.site-navigation a.cta-button:hover::after {
    width: 0; /* Ensure no width even on hover */
}

/* Header styling updates */
.site-header {
    padding: 15px 0;
    background-color: #0c1631;
}

.header-container {
    max-width: 1200px;
    padding: 0 20px;
}

/* Navigation styling */
.site-navigation ul {
    gap: 30px;
}

.site-navigation a {
    font-size: 16px;
    font-weight: 500;
    padding: 10px 0;
    position: relative;
    transition: color 0.3s ease;
}

.site-navigation a:hover {
    color: #00aaff;
}

.site-navigation a::after {
    content: '';
    position: absolute;
    bottom: 0;
    left: 0;
    width: 0;
    height: 2px;
    background-color: #00aaff;
    transition: width 0.3s ease;
}

.site-navigation a:hover::after {
    width: 100%;
}

/* Button styling in header */
.login-button {
    background-color: transparent;
    border: 2px solid #ffffff;
    border-radius: 5px;
    color: #ffffff;
    padding: 8px 20px;
    font-weight: 500;
    transition: all 0.3s ease;
}

.login-button:hover {
    background-color: rgba(255, 255, 255, 0.1);
}

.schedule-demo-button {
    background: linear-gradient(90deg, #1a90ff, #0aaeff);
    border: none;
    border-radius: 30px;
    color: #ffffff;
    padding: 10px 25px;
    font-weight: 500;
    transition: all 0.3s ease;
    box-shadow: 0 4px 15px rgba(10, 174, 255, 0.3);
}

.schedule-demo-button:hover {
    background: linear-gradient(90deg, #0084ff, #00a2ff);
    transform: translateY(-2px);
    box-shadow: 0 6px 18px rgba(10, 174, 255, 0.4);
}

/* Logo styling */
.logo-title {
    display: flex;
    align-items: center;
    gap: 10px;
}

.site-logo {
    height: 40px;
    width: auto;
}

/* Video header adjustments */
.video-header {
    background-color: #0c1631;
    min-height: 80px;
}


/* Fix hero indicators positioning */
.hero-carousel-indicators {
    position: absolute;
    bottom: 20px;
    left: 20px; /* Changed from 50px to 20px */
    z-index: 3;
    display: flex;
    gap: 10px;
}

/* Style the Get Started button like in screenshot */
.get-started-btn {
    margin-top: 30px;
    padding: 16px 40px; /* Increased padding */
    background: #3c89ff; /* Solid color instead of gradient */
    color: white;
    border: none;
    border-radius: 50px; /* More rounded */
    font-size: 18px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s ease;
    box-shadow: 0 4px 15px rgba(0, 123, 255, 0.4);
    position: relative;
    overflow: hidden;
}

.get-started-btn:hover {
    background: #0066ff;
    transform: translateY(-3px);
    box-shadow: 0 8px 25px rgba(0, 123, 255, 0.6);
}

/* Hero Section with Full-Width Dark Blue Overlay */
.hero-section {
    position: relative;
    height: 500px;
    width: 100%;
    display: flex;
    justify-content: center;
    align-items: center;
    margin-bottom: 40px;
    border-radius: 0;
    overflow: hidden;
}

/* Background Carousel */
.hero-carousel {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 1;
}

.hero-slide {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-size: cover;
    background-position: center;
    opacity: 0;
    transition: opacity 1s ease;
}

.hero-slide.active {
    opacity: 1;
}

/* Full-Width Dark Blue Overlay */
.hero-section::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 20, 50, 0.85); /* Dark blue overlay */
    z-index: 2;
}

/* Content Container */
.hero-content-panel {
    position: relative;
    z-index: 3; /* Above the overlay */
    text-align: center;
    max-width: 800px;
    padding: 0 20px;
}

.hero-content {
    text-align: center;
    padding: 0 20px;
    margin-bottom: 40px; /* Add space below the hero content */
}

/* Title Styling - Single Line */
.hero-section h1 {
    font-size: 42px;
    font-weight: 700;
    color: white;
    margin-bottom: 25px;
    text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
    line-height: 1.2;
    white-space: normal; /* Allow wrapping on small screens */
}

/* Accent Line */
.accent-line {
    height: 4px;
    width: 100px;
    background: linear-gradient(90deg, transparent, #00aaff, transparent);
    margin: 0 auto 30px;
    position: relative;
    border-radius: 2px;
}

/* Fix for message carousel to properly show all text */
.message-carousel-container {
    margin: 30px auto;
    text-align: center;
    position: relative;
    height: auto;
    min-height: 80px; /* Increase minimum height to fit all text */
    max-width: 900px;
    width: 90%;
}

.message-carousel {
    position: relative;
    height: auto;
    min-height: 80px; /* Increase this to match container */
    overflow: visible;
}

.carousel-slide {
    position: relative;
    width: 100%;
    text-align: center;
    font-size: 22px;
    font-weight: 400;
    color: rgba(255, 255, 255, 0.95);
    opacity: 0;
    display: none;
    padding: 15px 0; /* Increase padding to prevent text cutoff */
    margin: 0;
    transform: none;
    transition: opacity 0.4s; /* Faster transition */
}

.carousel-slide.active {
    opacity: 1;
    display: block; /* Show only active slide */
}

/* Add a fallback message that's always visible if JS fails */
.message-carousel::after {
    content: "Communicate with clarity and consistency...";
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    text-align: center;
    font-size: 22px;
    font-weight: 400;
    color: rgba(255, 255, 255, 0.95);
    opacity: 0; /* Hidden by default */
    z-index: -1;
}

/* If JS fails, show the fallback */
.message-carousel:empty::after {
    opacity: 1;
}


/* Get Started Button */
.get-started-btn {
    margin-top: 30px;
    padding: 16px 40px;
    background: #3c89ff;
    color: white;
    border: none;
    border-radius: 50px;
    font-size: 18px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s ease;
    box-shadow: 0 4px 15px rgba(0, 123, 255, 0.4);
}

.get-started-btn:hover {
    background: #0066ff;
    transform: translateY(-3px);
    box-shadow: 0 8px 25px rgba(0, 123, 255, 0.6);
}

/* Hide navigation dots */
.hero-carousel-indicators, 
.carousel-indicators {
    display: none !important;
}

/* Responsive adjustments for single-line title */
@media (max-width: 768px) {
    .hero-section h1 {
        font-size: 32px;
    }
    
    .carousel-slide {
        font-size: 18px;
    }
    
    .message-carousel-container {
        height: 50px; /* Taller on mobile to allow for text wrapping */
    }
}

@media (max-width: 480px) {
    .hero-section h1 {
        font-size: 28px;
    }
    
    .carousel-slide {
        font-size: 16px;
    }
}

/* Add this to your existing CSS */
.carousel-indicators {
    display: flex;
    justify-content: center;
    margin-top: 15px;
    margin-bottom: 15px; /* Add space below the dots */
    gap: 8px;
}

/* Make hover effects consistent between both buttons */
.select-file-button:hover, .analyze-button:hover {
    background: linear-gradient(45deg, #0056b3, #007bff) !important;
    box-shadow: 0 0 12px rgba(0, 170, 255, 0.7) !important; /* Enhanced aqua glow */
    transform: scale(1.05) !important; /* Slight grow effect */
}



/* Modal content styling - make boxes larger and darken background */
.modal-overlay {
    background-color: rgba(0, 0, 0, 0.8); /* Darkened background */
}

.modal-content {
    background: rgba(31, 43, 80, 0.95); /* Darker blue background similar to reference */
    border-radius: 16px;
    padding: 40px; /* Increased padding */
    width: 95%;
    max-width: 750px; /* Increased max-width */
    box-shadow: 0 0 40px rgba(0, 170, 255, 0.4); /* Enhanced glow */
    border: 1px solid rgba(0, 170, 255, 0.4); /* Subtle border */
}

/* File upload and text input boxes styling to match reference */
.file-upload-box, .text-input-box {
    background-color: rgba(31, 43, 80, 0.95); /* Darker blue */
    border-radius: 12px;
    padding: 30px 25px; /* Increased padding */
    margin-top: 10px;
    box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3); /* Enhanced shadow */
    max-width: 100%;
    text-align: center;
    position: relative;
    transition: transform 0.3s ease, box-shadow 0.3s ease;
}

/* Enhance labels for better visibility */
.file-upload-box label, .text-input-box label {
    color: white !important;
    font-size: 1.5em !important; /* Larger font size */
    font-weight: 600 !important;
    margin-bottom: 15px !important;
    display: block !important;
}

/* Style the drop area to match the reference */
#dragDropText {
    border: 2px dotted rgba(0, 170, 255, 0.6) !important; /* Brighter border */
    padding: 70px 20px !important; /* Larger padding */
    border-radius: 8px !important;
    color: rgba(255, 255, 255, 0.8) !important;
    font-size: 16px !important;
    margin: 20px 0 !important; /* Added margin */
}

/* Style the buttons */
.select-file-button, .analyze-button {
    background: linear-gradient(45deg, #007bff, #00aaff) !important;
    color: white !important;
    border: none !important;
    padding: 12px 15px !important; /* Larger padding */
    border-radius: 8px !important;
    font-size: 16px !important;
    font-weight: 500 !important;
    width: 100% !important;
    margin-top: 20px !important;
    cursor: pointer !important;
    transition: transform 0.2s, box-shadow 0.2s !important;
}

/* Style textarea to match the boxes */
#text_input {
    background-color: rgba(255, 255, 255, 0.15) !important;
    color: white !important;
    border: 1px solid rgba(255, 255, 255, 0.3) !important;
    border-radius: 8px !important;
    padding: 15px !important;
    font-size: 16px !important;
    width: 100% !important;
    min-height: 150px !important; /* Taller textarea */
    margin: 20px 0 !important;
}




/* Modify your CSS to hide the select file button when a file is attached */
.modal-content .select-file-button {
    display: inline-block;
    margin-top: 15px;
    background: linear-gradient(45deg, #007bff, #00aaff);
    color: #fff;
    border: none;
    padding: 8px 12px;
    border-radius: 5px;
    cursor: pointer;
    width: 100%;
    box-sizing: border-box;
    font-size: 16px;
    text-align: center;
}

/* Only hide the select button when file name is visible AND not empty */
.file-name:not(:empty):not([style*="display: none"]) ~ .select-file-button {
    display: none !important;
}

/* Add this to your CSS to properly handle modal stacking */
.modal-content {
    position: relative;
    z-index: 1001; /* Higher than modal-overlay z-index */
    background: rgba(0, 0, 0, 0.8);
    border-radius: 12px;
    padding: 30px;
    width: 90%;
    max-width: 600px;
    box-shadow: 0 0 30px rgba(0, 170, 255, 0.3);
    transform: scale(0.9);
    transition: transform 0.3s ease;
    border: 1px solid rgba(0, 170, 255, 0.3);
}

/* Ensure only one modal shows at a time */
.modal-overlay.active {
    opacity: 1;
    visibility: visible;
    z-index: 1000;
}

/* Prevent content from stacking incorrectly inside modals */
.modal-overlay .file-upload-box,
.modal-overlay .text-input-box {
    position: relative;
    z-index: 1;
    background: transparent;
    box-shadow: none;
    border: none;
    padding: 0;
}

/* Modal overlay styles */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s ease, visibility 0.3s ease;
        }
        
        .modal-overlay.active {
            opacity: 1;
            visibility: visible;
        }
        
        .modal-content {
            background: rgba(0, 0, 0, 0.8);
            border-radius: 12px;
            padding: 30px;
            width: 90%;
            max-width: 600px;
            box-shadow: 0 0 30px rgba(0, 170, 255, 0.3);
            transform: scale(0.9);
            transition: transform 0.3s ease;
            position: relative;
            border: 1px solid rgba(0, 170, 255, 0.3);
        }
        
        .modal-overlay.active .modal-content {
            transform: scale(1);
        }
        
        .close-modal {
            position: absolute;
            top: 15px;
            right: 15px;
            background: none;
            border: none;
            color: rgba(255, 255, 255, 0.7);
            font-size: 20px;
            cursor: pointer;
            transition: color 0.3s ease;
        }
        
        .close-modal:hover {
            color: #00aaff;
        }

        .hidden-admin {
            display: none !important;
            visibility: hidden !important;
            width: 0 !important;
            height: 0 !important;
            overflow: hidden !important;
            position: absolute !important;
            left: -9999px !important;
        }

        /* Animation for fading in the boxes */
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .fade-in {
            animation: fadeIn 0.5s ease-out;
        }

        /* Style for switch button */
        .switch-input-button {
            margin-top: 15px;
            background: rgba(255, 255, 255, 0.1);
            color: rgba(255, 255, 255, 0.8);
            border: 1px solid rgba(255, 255, 255, 0.2);
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .switch-input-button:hover {
            background: rgba(255, 255, 255, 0.2);
            color: white;
        }

        .switch-input-button i {
            margin-right: 5px;
        }

/* IMPORTANT: Final override for hover effect with "Click to use" text */
.instruction-item {
    cursor: pointer;
    position: relative;
    overflow: visible !important;
}

/* Enhanced blue bar at the top */
.instruction-item::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 4px; /* Slightly thicker */
    background: linear-gradient(90deg, #007bff, #00aaff);
    transform: scaleX(0.3);
    transform-origin: left;
    transition: transform 0.5s, box-shadow 0.5s;
    z-index: 1001; /* Higher than the overlay to show through it */
    box-shadow: 0 0 8px rgba(0, 170, 255, 0.5); /* Add glow effect */
}

.instruction-item:hover::before {
    transform: scaleX(1);
    box-shadow: 0 0 15px rgba(0, 170, 255, 0.8); /* Enhanced glow on hover */
}

/* "Click to use" overlay with reduced opacity */
.instruction-item::after {
    content: "Click to use" !important;
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 70, 145, 0.6) !important; /* Slightly more transparent */
    color: white !important;
    font-size: 24px !important;
    font-weight: 600 !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    opacity: 0;
    transition: opacity 0.3s ease;
    border-radius: 12px;
    pointer-events: none;
    z-index: 1000;
    text-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);
}

.instruction-item:hover::after {
    opacity: 1 !important;
}

/* Make sure the box still moves up on hover */
.instruction-item:hover {
    transform: translateY(-5px);
    box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
    z-index: 10;
}

/* Enhanced hover effects for instruction boxes */
@keyframes fadeInOverlay {
    from {
        opacity: 0;
    }
    to {
        opacity: 1;
    }
}

.instruction-item:hover .instruction-icon-wrapper {
    transform: scale(1.1);
    box-shadow: 0 0 20px rgba(0, 170, 255, 0.6);
    z-index: 2;
}

.instruction-item .instruction-text,
.instruction-item .instruction-icon-wrapper {
    position: relative;
    z-index: 1;
    transition: transform 0.3s ease, box-shadow 0.3s ease;
}

        /* Add this to position the welcome section properly */
        .welcome-section {
            position: relative;
            z-index: 1;
            margin-top: 30px;
        }

        /* Section makes Upload and Quick Check Boxes appear upon click */
        /* Add highlighting and animation for the boxes */
        .highlight-box {
            border: 2px solid rgba(0, 170, 255, 0.7) !important;
            box-shadow: 0 0 15px rgba(0, 170, 255, 0.5) !important;
        }

        @keyframes pulseBox {
            0% {
                transform: scale(1);
            }
            50% {
                transform: scale(1.03);
            }
            100% {
                transform: scale(1);
            }
        }

        .pulse-animation-box {
            animation: pulseBox 0.6s ease-in-out 3;
        }

        /* Make the instruction items look clickable */
        .instruction-item {
            cursor: pointer;
        }

        .instruction-item:hover {
            transform: translateY(-5px);
        }

        .instruction-item:hover::after {
            transform: scaleX(1);
        }


/* Add this to position the welcome section properly */
.welcome-section {
    position: relative;
    z-index: 1;
    margin-top: 30px;
}

/* Section makes Upload and Quick Check Boxes appear upon click */
/* Add highlighting and animation for the boxes */
.highlight-box {
    border: 2px solid rgba(0, 170, 255, 0.7) !important;
    box-shadow: 0 0 15px rgba(0, 170, 255, 0.5) !important;
}


/* CSS for carousel subheading feature */
.message-carousel-container {
    margin: 30px auto;
    max-width: 900px;
    text-align: center;
    position: relative;
}

.message-carousel {
    height: 50px;
    overflow: hidden;
    position: relative;
}

.carousel-slide {
    position: absolute;
    width: 100%;
    text-align: center;
    font-size: 22px;
    font-weight: 400;
    color: rgba(255, 255, 255, 0.9);
    opacity: 0;
    top: 0;
    left: 0;
    transform: translateY(20px);
    transition: opacity 0.8s, transform 0.8s;
    font-style: italic;
}

.carousel-slide.active {
    opacity: 1;
    transform: translateY(0);
}

.carousel-indicators {
    display: flex;
    justify-content: center;
    margin-top: 15px;
    gap: 8px;
}

.indicator {
    width: 8px;
    height: 8px;
    background-color: rgba(255, 255, 255, 0.3);
    border-radius: 50%;
    cursor: pointer;
    transition: background-color 0.3s;
}

.indicator.active {
    background-color: rgba(255, 255, 255, 0.9);
}




.intro-paragraph-standalone {
    position: relative;
    padding: 0 40px;
    margin: 0 auto 35px;
    text-align: center;
    max-width: 900px;
}

.intro-paragraph-standalone p {
    color: rgba(255, 255, 255, 0.9);
    font-size: 17px;
    line-height: 1.7;
    font-weight: 400;
    font-style: italic;
}


/* Welcome Section Styles */
.welcome-section {
    margin-bottom: 40px;
    position: relative;
}

.welcome-header {
    text-align: center;
    margin-bottom: 25px;
    position: relative;
}

.welcome-title-area {
    display: inline-block;
    position: relative;
}

.welcome-section h1 {
    font-size: 38px;
    font-weight: 700;
    margin-bottom: 5px;
    color: white;
    text-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
    display: inline-block;
    padding: 0 15px;
    position: relative;
    z-index: 1;
}

/* Ensure the accent line is always visible */
.accent-line {
    height: 4px;
    width: 100px;
    background: linear-gradient(90deg, transparent, #00aaff, transparent);
    margin: 0 auto 30px;
    position: relative;
    border-radius: 2px;
    display: block; /* Ensure it's always displayed */
}

.guidance-container {
    background: rgba(255, 255, 255, 0.12);
    border-radius: 16px;
    padding: 35px;
    backdrop-filter: blur(12px);
    border: 1px solid rgba(255, 255, 255, 0.2);
    box-shadow: 
        0 10px 30px rgba(0, 0, 0, 0.2),
        0 0 10px rgba(255, 255, 255, 0.1) inset;
    position: relative;
    overflow: hidden;
}

.guidance-container::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 1px;
    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
}

.guidance-content {
    max-width: 900px;
    margin: 0 auto;
    position: relative;
}

.intro-paragraph {
    position: relative;
    padding: 0 40px;
    margin-bottom: 35px;
    text-align: center;
}

.intro-paragraph p {
    color: rgba(255, 255, 255, 0.9);
    font-size: 17px;
    line-height: 1.7;
    font-weight: 400;
    font-style: italic;
}

.highlight-quote {
    font-size: 60px;
    line-height: 0;
    position: absolute;
    color: rgba(0, 170, 255, 0.3);
    font-family: Georgia, serif;
    height: 30px;
}

.highlight-quote:first-child {
    top: 15px;
    left: 10px;
}

.highlight-quote:last-child {
    bottom: -5px;
    right: 10px;
}

.usage-instructions {
    display: flex;
    gap: 25px;
    margin-bottom: 30px;
}

.instruction-item {
    flex: 1;
    display: flex;
    gap: 15px;
    background: rgba(0, 0, 0, 0.2);
    padding: 25px;
    border-radius: 12px;
    border: 1px solid rgba(255, 255, 255, 0.1);
    align-items: flex-start;
    text-align: left;
    transition: transform 0.3s, box-shadow 0.3s;
    position: relative;
    overflow: hidden;
}

.instruction-item::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 3px;
    background: linear-gradient(90deg, #007bff, #00aaff);
    transform: scaleX(0.3);
    transform-origin: left;
    transition: transform 0.5s;
}

.instruction-item:hover {
    transform: translateY(-5px);
    box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
}

.instruction-item:hover::after {
    transform: scaleX(1);
}

.instruction-icon-wrapper {
    width: 50px;
    height: 50px;
    background: linear-gradient(135deg, #007bff, #00aaff);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
    box-shadow: 0 5px 15px rgba(0, 123, 255, 0.4);
}

.instruction-icon-wrapper i {
    font-size: 22px;
    color: white;
}

.instruction-text {
    flex: 1;
}

.instruction-text h3 {
    font-size: 20px;
    margin-bottom: 10px;
    color: white;
    position: relative;
    display: inline-block;
}

.instruction-text p {
    color: rgba(255, 255, 255, 0.85);
    font-size: 15px;
    line-height: 1.6;
    margin-bottom: 15px;
}

.feature-tags {
    display: flex;
    flex-wrap: wrap;
    gap: 8px;
}

.feature-tag {
    background: rgba(0, 170, 255, 0.15);
    color: rgba(255, 255, 255, 0.95);
    font-size: 12px;
    padding: 4px 10px;
    border-radius: 30px;
    display: inline-block;
    font-weight: 500;
    border: 1px solid rgba(0, 170, 255, 0.3);
}

.start-prompt {
    text-align: center;
    margin-top: 20px;
}

.prompt-content {
    display: inline-flex;
    align-items: center;
    gap: 10px;
    background: rgba(255, 255, 255, 0.1);
    padding: 10px 20px;
    border-radius: 30px;
}

.prompt-content i {
    color: #00aaff;
    font-size: 18px;
}

.prompt-content p {
    color: white;
    font-size: 15px;
    margin: 0;
}

.pulse-animation {
    animation: pulse 2s infinite;
}

@keyframes pulse {
    0% {
        transform: translateY(0);
        opacity: 1;
    }
    50% {
        transform: translateY(5px);
        opacity: 0.7;
    }
    100% {
        transform: translateY(0);
        opacity: 1;
    }
}

/* Responsive adjustments */
@media (max-width: 768px) {
    .usage-instructions {
        flex-direction: column;
    }
    
    .welcome-section h1 {
        font-size: 28px;
    }
    
    .guidance-container {
        padding: 25px 20px;
    }
    
    .intro-paragraph {
        padding: 0 20px;
    }
    
    .highlight-quote {
        font-size: 40px;
    }
    
    .highlight-quote:first-child {
        top: 5px;
        left: 0;
    }
    
    .highlight-quote:last-child {
        bottom: -15px;
        right: 0;
    }
}

/* This targets only the direct links in the main navigation bar */
.site-navigation > ul > li > a:hover {
    transform: scale(1.07) !important; /* Slightly increase size on hover */
    background-color: transparent !important; /* Ensure no background appears on hover */
}

/* This ensures the links are displayed correctly in the first place */
.site-navigation > ul > li > a {
    display: inline-block !important;
    color: white !important;
    text-decoration: none !important;
    padding: 8px 12px !important;
    visibility: visible !important;
    opacity: 1 !important;
}

.dropdown .dropdown-menu {
    
    display: none !important;
}

.dropdown:hover .dropdown-menu {
    display: block !important;
}

/* Dropdown styles */
.dropdown {
    position: relative;
}

.dropdown-toggle {
    cursor: pointer;
}

.dropdown-menu {
    display: none;
    position: absolute;
    top: 100%;
    left: 0;
    min-width: 180px;
    background-color: #fff;
    box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    border-radius: 4px;
    z-index: 1000;
    padding: 8px 0;
}

.dropdown-menu li {
    display: block;
    width: 100%;
    margin: 0;
}

.dropdown-menu li a {
    padding: 8px 16px;
    display: block;
    color: #333;
    text-decoration: none;
    transition: background-color 0.2s;
}

.dropdown-menu li a:hover {
    background-color: #f5f5f5;
}

.dropdown:hover .dropdown-menu {
    display: block;
}

/* Optional: Add a small arrow icon */
.fa-caret-down {
    margin-left: 5px;
    font-size: 14px;
}

html, body, button, input, select, textarea, div, p, h1, h2, h3, h4, h5, h6, a, span, label {
        font-family: 'Montserrat', sans-serif !important;
    }

.go-back-button {
    margin-top: 10px;
    background: linear-gradient(45deg, #6c757d, #495057);
    color: #fff;
    border: none;
    padding: 8px 12px;
    border-radius: 5px;
    cursor: pointer;
    display: inline-block;
    width: 100%;
    box-sizing: border-box;
    font-size: 16px;
    text-align: center;
}

.go-back-button:hover {
    background: linear-gradient(45deg, #5a6268, #6c757d);
    box-shadow: 0 0 8px rgba(108, 117, 125, 0.7);
    transform: scale(1.05);
}

/* Add this to your CSS to reduce the space between navbar and form */
form#uploadForm {
    margin-top: -100px; /* Negative margin to pull the form up */
}

/* Video Header Styles */
.video-header {
    position: relative;
    height: auto; /* Change from fixed height to auto */
    min-height: 100px; /* Increase this value based on your logo size */
    width: 100%;
    overflow: visible; /* Change from hidden to visible */
}

/* Video Styling */
.background-video {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    object-fit: cover; /* Ensures the video covers the entire header */
    z-index: -1; /* Puts the video behind the header content */
}

/* Header Content Styling */
.site-header {
    position: relative; /* Ensures the header content is above the video */
    color: white;
    padding: 0px 0;
    z-index: 1; /* Keeps the header content above the video */
}

/* Logo and Title Alignment */
.logo-title {
    display: flex;
    align-items: center;
    gap: 10px;
}

/* Navigation Styling */
.site-navigation ul {
    list-style: none;
    display: flex;
    gap: 20px;
    margin: 0;
    padding: 0;
}

.site-navigation a {
    color: white;
    text-decoration: none;
    font-size: 18px;
    padding: 8px 12px;
    border-radius: 4px;
    transition: transform 0.3s ease, color 0.3s ease;
}

.site-navigation a:hover {
    transform: scale(1.07); /* Slightly increase size on hover */
    background-color: transparent; /* Ensure no background appears on hover */
}


/* Logo and Site Title Alignment */
.logo-title {
    display: flex;
    align-items: center;
    gap: 12px; /* Spacing between logo and title */
}

/* Logo Styling */
.site-logo {
    height: 200px; /* Adjust logo height */
    width: auto; /* Maintain aspect ratio */
    object-fit: contain; /* Ensure the logo fits nicely */
}

/* Larger logo styling */
.logo-title .site-logo {
    height: 200px; /* Try a moderate increase first */
    max-height: 200px; /* Ensure it doesn't get too large */
}


#flaggedInstancesContainer {
    margin-top: 20px;
    height: 50px; /* Adjust height as needed */
    overflow: hidden;
    border: 1px solid #ccc;
    background-color: #fff;
    padding: 10px;
    border-radius: 5px;
    position: relative;
    white-space: nowrap; /* Ensure text stays on one line */
}

#flaggedInstancesListContainer {
    display: inline-block;
    white-space: nowrap;
    position: absolute; /* Enable animation */
    top: 50%; /* Center vertically */
    transform: translateY(-50%); /* Align to center */
}


.feedback-box button {
    display: block; /* Ensure button is block-level */
    width: 100%; /* Span full width of the parent */
    box-sizing: border-box; /* Include padding in width */
}


#distribution_channel {
    margin-bottom: 15px; /* Add spacing below the box */
}
#finalSection label {
    text-align: left; /* Align text to the left */
    display: block;
    margin-top: 10px;
    margin-bottom: 10px; /* Add padding below */
    width: 100%; /* Ensure labels span full width */
}

    /* Header Styles */
        .site-header {
            background: transparent; /* White */;
            color: white;
            padding: 40px 0;
            height: 100%;
	    z-index: 1;
        }
        .header-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            max-width: 1200px;
            margin: 0 auto;
            padding: 10px 20px; /* Add some padding top/bottom */
        }
        .site-title {
            font-family: 'Roboto Slab', serif; /* Replace with your chosen font */
	    font-size: 28px;
            font-weight: bold;
            margin: 0;
        }
        .site-navigation ul {
            list-style: none;
            display: flex;
            gap: 20px;
            margin: 0;
            padding: 0;
        }
        .site-navigation a {
            color: white;
            text-decoration: none;
            font-size: 18px;
            padding: 8px 12px;
            border-radius: 4px;
            transition: transform 0.3s ease, color 0.3s ease;
        }
        .site-navigation a:hover {
            transform: scale(1.05);
            background-color: transparent;
        }


        /* Update your body styling to have the blue gradient as the background */
body {
    font-family: 'Montserrat', sans-serif;
    background: linear-gradient(135deg, #0b0d23, #004e98, #00aaff);
    color: white;
    display: flex;
    flex-direction: column;
    align-items: center;
    min-height: 100vh;
    margin: 0;
    padding: 0;
}

/* Then make the header area transparent to show the gradient */
.site-header {
    background-color: rgba(12, 22, 49, 0.8); /* Semi-transparent dark blue */
    width: 100%;
}

/* And adjust the content wrapper to continue the gradient */
.content-wrapper {
    width: 100%;
    padding-top: 40px;
    padding-bottom: 40px;
    display: flex;
    flex-direction: column;
    align-items: center;
}

/* Adjust the header background to be transparent */
.site-header {
    background-color: rgba(12, 22, 49, 0.8); /* Semi-transparent dark blue */
}

/* Ensure text is white on dark backgrounds */
.guidance-container, .instruction-item, .message-carousel-container {
    color: white;
}

        h1 {
    text-align: center;
    margin-top: 0px; /* Adds vertical space above the heading */
}
form {
    margin-top: 20px;
    max-width: 600px;
    width: 100%;
}

select[multiple] {
    width: 100%;
    height: auto;
    border: 2px solid #007bff;
    border-radius: 8px;
    padding: 10px;
    font-size: 16px;
    background-color: #f9f9f9;
    box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.1);
    outline: none;
    appearance: none;
    cursor: pointer;
    overflow-y: auto;
    transition: border-color 0.3s, box-shadow 0.3s;
}

select[multiple]:focus {
    border-color: #0056b3;
    box-shadow: 0 0 5px rgba(0, 91, 187, 0.5);
}

/* Option styles for multi-select */
select[multiple] option {
    padding: 8px;
    display: flex;
    align-items: center;
    gap: 8px;
    background-color: #ffffff;
    color: #333;
    cursor: pointer;
    transition: background-color 0.3s, color 0.3s;
}

/* Hover and checked option styling */
select[multiple] option:hover {
    background: linear-gradient(45deg, #007bff, #00aaff);
    color: #ffffff;
}

select[multiple] option:checked::before {
    content: "✔";
    color: #007bff;
    font-weight: bold;
    margin-right: 8px;
}

        input[type="file"], textarea {
    background-color: rgba(255, 255, 255, 0.2); /* Light gray with transparency */
    color: #ffffff; /* White text for readability */
    border: 1px solid #444; /* Subtle dark gray border */
    border-radius: 5px; /* Rounded corners for consistency */
    padding: 10px; /* Padding inside the input/textarea */
    font-size: 15px; /* Font size for input and textarea */
    font-family: Arial, sans-serif; /* Maintain your original font */
    margin-top: 15px; /* Spacing above the element */
    width: 100%; /* Full width for responsiveness */
    max-width: 500px; /* Limit maximum width */
    resize: none; /* Prevent resizing for textarea */
    box-sizing: border-box; /* Ensure padding doesn't affect width */
}

        .file-upload-box, .text-input-box {
    background-color: rgba(0, 0, 0, 0.7); /* Semi-transparent black background */
    border: none; /* Remove borders */
    color: #fff; /* White text for readability */
    border-radius: 10px; /* Rounded corners */
    padding: 20px; /* Internal spacing */
    margin-top: 10px; /* Space between elements */
    box-shadow: 0px 4px 15px rgba(0, 0, 0, 0.5); /* Subtle shadow for depth */
    max-width: 600px; /* Limit maximum width */
    width: 100%; /* Full-width responsiveness */
    text-align: center; /* Center align all text and content inside */
    position: relative; /* Retain positioning for any additional effects */
    transition: box-shadow 0.3s ease, transform 0.3s ease; /* Smooth transitions */
}



        .file-upload-box:hover, .text-input-box:hover {
    border: none; /* neon bluish border */
    box-shadow: none;
    transform: scale(1.02);
    cursor: pointer;
}

        .file-upload-box.dimmed, .text-input-box.dimmed {
            background-color: #e9ecef;
            border-color: #c6c6c6;
            pointer-events: none;
            opacity: 0.6;
        }
        .hidden { display: none; }
        .or-divider { font-weight: bold; text-align: center; margin: 5px 0 5px; }
        .file-name { margin-top: 10px; font-weight: bold; color: #fff; }
        .analyze-button, .select-file-button {
            margin-top: 10px;
            background: linear-gradient(45deg, #007bff, #00aaff);
            color: #fff;
            border: none;
            padding: 8px 12px;
            border-radius: 5px;
            cursor: pointer;
            display: inline-block;
            width: 100%; /* Make the button fill the container width */
            box-sizing: border-box; /* Include padding in the width */
            font-size: 16px; /* Adjust font size for better proportions */
            text-align: center; /* Center the button text */
}

.select-file-button:hover {
    background: linear-gradient(45deg, #0056b3, #007bff);
    box-shadow: 0 0 8px rgba(0, 170, 255, 0.7); /* subtle aqua glow */
    transform: scale(1.05);
}
        }
        .analyze-button:hover, .select-file-button:hover { background-color: #0056b3; }
        .analyze-button { display: none; }
        .compliance-button {
    display: block; /* Make the button a block element */
    width: 100%; /* Match the width of the container */
    padding: 10px 15px;
    background: linear-gradient(45deg, #007bff, #00aaff);
    color: white;
    text-decoration: none;
    border-radius: 5px;
    text-align: center;
    font-size: 16px;
    cursor: pointer;
    border: none; /* Remove the border */
    box-sizing: border-box; /* Ensure padding doesn't affect width */
}
        .compliance-button:hover {
    background: linear-gradient(45deg, #0056b3, #007bff);
    box-shadow: 0 0 8px rgba(0, 170, 255, 0.7); /* subtle aqua glow */
    transform: scale(1.05);
}
        /* Spinner overlay */
        #loadingOverlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(255, 255, 255, 0.8);
            z-index: 9999;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            visibility: hidden; /* Initially hidden */
        }
        #loadingSpinner {
            border: 8px solid #f3f3f3;
            border-top: 8px solid #007bff;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            animation: spin 1s linear infinite;
        }
        #loadingMessage {
            margin-top: 15px;
            font-size: 1.2em;
            color: #007bff;
            text-align: center;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
#distribution_channel:hover,
#distribution_method:hover {
    border-color: white; /* Darker blue border on hover */
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2); /* Add a subtle shadow effect */
    transform: scale(1.02); /* Slightly enlarge the dropdown */
    cursor: pointer; /* Show pointer cursor */
}

/* Fix parent containers to prevent overlay clipping */
.usage-instructions,
.guidance-content,
.guidance-container,
.welcome-section {
    overflow: visible !important;
}

/* Make sure the boxes show hover effect properly */
.instruction-item:hover {
    transform: translateY(-5px);
    z-index: 10;
}

/* IMPORTANT: Final override for hover effect with "Click to use" text */
.instruction-item {
    cursor: pointer;
    position: relative;
    overflow: visible !important;
}

.instruction-item::after {
    content: "Click to use" !important;
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 70, 145, 0.7) !important;
    color: white !important;
    font-size: 24px !important;
    font-weight: 600 !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    opacity: 0;
    transition: opacity 0.3s ease;
    border-radius: 12px;
    pointer-events: none;
    z-index: 1000 !important;
    text-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);
}

.instruction-item:hover::after {
    opacity: 1 !important;
    transform: none !important;
}

    </style>
</head>
<body>
<!-- Web Header -->
<!-- Video Header with Finalyze Logo -->
<div class="video-header">
    <video autoplay muted loop class="background-video">
        <source src="globe.mp4" type="video/mp4">
        Your browser does not support the video tag.
    </video>
    <header class="site-header">
        <div class="header-container">
            <!-- Logo and Site Title - styled like the intro design -->
            <div class="logo-title">
                <a href="/" style="display: flex; align-items: center; text-decoration: none;">
                    <div style="background: #4a90e2; width: 50px; height: 50px; border-radius: 10px; display: flex; align-items: center; justify-content: center;">
                        <i class="fas fa-shield-alt" style="color: white; font-size: 24px;"></i>
                    </div>
                    <span style="color: white; font-size: 24px; font-weight: bold; margin-left: 10px;">Finalyze</span>
                </a>
            </div>

            <!-- Your current navigation links -->
            <nav class="site-navigation">
                <ul>
                    <li>
                        <a href="/">Compliance Check</a>   
                    </li>
                    <li>
                        <a href="profile">Profile</a>
                    </li>
                    <li class="dropdown" id="adminDropdown" style="position: relative; z-index: 99999;">
    <a href="#" class="dropdown-toggle">Admin <i class="fa fa-caret-down"></i></a>
    
    <div class="dropdown-menu" style="position: absolute; z-index: 99999; background-color: white; box-shadow: 0 2px 15px rgba(0,0,0,0.3); border-radius: 4px; padding: 10px 0; min-width: 200px; top: 100%; left: 0; display: none;">
        <div style="padding: 8px 16px;"><a href="/manage-disclosures" style="color: #333; text-decoration: none; display: block;">Disclosures</a></div>
        <!-- <div style="padding: 8px 16px;"><a href="/assign-disclosures" style="color: #333; text-decoration: none; display: block;">Personalization</a></div> -->
        <div style="padding: 8px 16px;"><a href="/training" style="color: #333; text-decoration: none; display: block;">System Training</a></div>
        <div style="padding: 8px 16px;"><a href="/admin-access" style="color: #333; text-decoration: none; display: block;">User Access</a></div>
    </div>
</li>
                    <li>
                        <a href="/intro" class="cta-button">Logout</a>
                    </li>
                </ul>
            </nav>
        </div>
    </header>
</div>

<!-- Hero Section with Image Carousel and Full Overlay -->
<div class="hero-section">
    <!-- Background Image Carousel -->
    <div class="hero-carousel">
        <div class="hero-slide active" style="background-image: url('https://images.unsplash.com/photo-1600880292203-757bb62b4baf?ixlib=rb-1.2.1&auto=format&fit=crop&w=1950&q=80');"></div>
        <div class="hero-slide" style="background-image: url('https://images.unsplash.com/photo-1551836022-d5d88e9218df?ixlib=rb-1.2.1&auto=format&fit=crop&w=1950&q=80');"></div>
        <div class="hero-slide" style="background-image: url('https://images.unsplash.com/photo-1507679799987-c73779587ccf?ixlib=rb-1.2.1&auto=format&fit=crop&w=1950&q=80');"></div>
    </div>
    
    <!-- Content Panel - Centered content with no box -->
    <div class="hero-content-panel">
        <div class="hero-content">
            <h1>Get Started Taking Your Financial Practice to the Next Level</h1>
            <div class="accent-line"></div>
            
            <!-- Message Carousel - Always visible -->
            <div class="message-carousel-container">
                <div class="message-carousel">
                    <div class="carousel-slide active">Communicate with clarity and consistency...</div>
                    <div class="carousel-slide">...in a way that isn't boring or cookie-cutter.</div>
                    <div class="carousel-slide">Express yourself boldly and uniquely...</div>
                    <div class="carousel-slide">...in a manner that doesn't put your credentials at risk.</div>
                </div>
            </div>
            
            <!-- Get Started Button -->
            <button id="getStartedBtn" class="get-started-btn">Get Started</button>
        </div>
    </div>
</div>
    


    <!-- Hero Carousel Indicators -->
    <div class="hero-carousel-indicators">
        <span class="hero-indicator active" data-index="0"></span>
        <span class="hero-indicator" data-index="1"></span>
        <span class="hero-indicator" data-index="2"></span>
        <span class="hero-indicator" data-index="3"></span>
    </div>
</div>
        
<div class="content-wrapper">
    
    <div class="guidance-container">
        <div class="guidance-content">
            
            <div class="usage-instructions">
                <div class="instruction-item">
                    <div class="instruction-icon-wrapper">
                        <i class="fas fa-file-upload"></i>
                    </div>
                    <div class="instruction-text">
                        <h3>Upload File</h3>
                        <p>Designed for instant feedback on text longer than a couple of sentences. It provides suggested alternatives that aim to help clean up potentially non-compliant language.</p>
                        <div class="feature-tags">
                            <span class="feature-tag">Batch Processing</span>
                            <span class="feature-tag">Detailed Analysis</span>
                        </div>
                    </div>
                </div>
                
                <div class="instruction-item">
                    <div class="instruction-icon-wrapper">
                        <i class="fas fa-bolt"></i>
                    </div>
                    <div class="instruction-text">
                        <h3>Quick Check</h3>
                        <p>Use the Quick Check box for instant feedback on single sentence examples. Perfect for testing specific phrases before adding them to your longer communications.</p>
                        <div class="feature-tags">
                            <span class="feature-tag">Instant Feedback</span>
                            <span class="feature-tag">Phrase Testing</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="start-prompt">
                <div class="prompt-content">
                    <i class="fas fa-arrow-up pulse-animation"></i>
                    <p>Get Started by Uploading File or Entering Text in Quick Check</p>
                </div>
            </div>
        </div>
    </div>
</div>             
                



    <div id="loadingOverlay">
    <div id="loadingSpinner"></div>

    <!-- Progress Bar Section -->
<div id="progress-container" style="width: 50%; margin: 20px auto 0; background-color: #e0e0e0; border: 1px solid #d6d6d6; border-radius: 20px; height: 30px; overflow: hidden; box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);">
    <div id="progress-bar" style="width: 0%; height: 100%; background: linear-gradient(90deg, #007bff, #0056b3); transition: width 0.3s ease;"></div>
</div>


<!-- Progress Text -->
<div id="progress-text" style="text-align: center; margin-top: 10px; font-size: 1.5em; color: #007bff; font-weight: bold;">Progress: 0%</div>

<!-- Loading Message -->
<div id="loadingMessage" style="text-align: center; margin-top: 10px; font-size: 1.3em; color: #333; font-weight: bold;">Checking File Type</div>

<!-- Flagged Instances Section -->
<div id="flaggedInstancesContainer" style="display: none; width: 50%; margin-top: 20px; height: 200px; overflow: hidden; border: 1px solid #ccc; background-color: #fff; padding: 10px; border-radius: 5px;">


    <h4>Flagged Instances (Preview)</h4>
    <div id="flaggedScrollContainer" style="display: none; position: relative; height: 100%; overflow: hidden;">
        <ul id="flaggedInstancesListContainer" style="list-style: none; padding: 0; margin: 0; position: absolute;"></ul>
    </div>
</div>


    <!-- Loading Message and Percentage -->
    <div id="loadingMessage" style="display: none; text-align: center; margin-top: 10px;"></div>
    <div id="loadingPercentage" style="display: none; margin-top: 10px; font-size: 1.5em; color: #007bff;"></div>
</div>

    <form id="uploadForm" action="/" method="POST" enctype="multipart/form-data" onsubmit="return handleFormSubmit(event)">
    <div style="display: flex; flex-direction: column; align-items: center; gap: 20px;">
    <h2 style="text-align: center; font-size: 32px;"></h2>

    <div class="file-upload-box" id="fileUploadBox">
        <label for="file" style="color: #00aaff; font-size: 1.3em;">
  <strong>Select or Drop Files Here</strong>
</label>
        <input type="file" id="file" name="file" accept=".pdf,.mp4" style="display: none;">
        <p id="dragDropText" style="border: 2px dotted #00aaff; padding: 60px 10px; border-radius: 5px;">
    Drop (PDF or MP4) file here
</p>

        <div id="fileName" class="file-name" style="display: none;"></div>
        <button type="button" class="select-file-button" id="selectFileButton" onclick="selectFileAndSubmit()">Select File</button>
        <button type="button" onclick="analyzeFileDirectly()" class="analyze-button" id="fileAnalyzeButton">Analyze</button>
        <button type="button" onclick="goBack()" class="go-back-button" id="goBackButton" style="display: none;">Go Back</button>
    </div>

    <div class="or-divider" id="orDivider" style="margin: 3px 0;">OR</div>

    <div class="text-input-box" id="textInputBox">
        <label for="text_input" style="color: #00aaff; font-size: 1.2em;">
  <strong>Single Sentence Quick Check</strong>
</label>

        <textarea 
    id="text_input" 
    name="text_input" 
    rows="8"
    color: #ffffff;
    placeholder="Type or paste instance here..." 
    style="background-color: rgba(255, 255, 255, 0.2); color: white; border: 1px solid #444; border-radius: 5px; padding: 10px; font-size: 16px;">
</textarea>

        <button type="button" onclick="analyzeTextForCompliance()" class="analyze-button" id="textAnalyzeButton">Analyze</button>
        <div id="complianceResults" style="display: none; margin-top: 10px; text-align: left;"></div>
    </div>
</div>

        <div id="finalSection" style="display: none; text-align: center;">
<label for="distribution_channel"><strong>Select Distribution Method(s)</strong></label>
<select id="distribution_channel" name="distribution_channel[]" multiple required>
    <option value="social_media">Social Media</option>
    <option value="my_website">My Website</option>
    <option value="external_outlet">External Outlet (Newspaper, TV, Broadcast, Other Site, etc.)</option>
    <option value="presentation">Presentation, Handout, or Form</option>
    <option value="mail_or_email">Mail or Email</option>
    <option value="other">Other</option>
</select>

            <label for="distribution_method"><strong>Select Final Intended Format(s)</strong></label>
<select id="distribution_method" name="distribution_method[]" multiple required>
    <option value="Written Social Media Post">Written Social Media Post</option>
    <option value="Video">Video</option>
    <option value="Audio">Audio</option>
    <option value="Advertisement">Advertisement</option>
    <option value="Graphic or Logo">Graphic or Logo</option>
    <option value="Article, Newsletter, Press Release or Script">Article, Newsletter, Press Release or Script</option>
    <option value="Brochure, Flyer, Handout, Slideshow, Letter, or Message">Brochure, Flyer, Handout, Slideshow, Letter, or Message</option>
    <option value="Website Content">Website Content</option>
    <option value="Book or Booklet">Book or Booklet</option>
    <option value="Other">Other</option>
</select>
            <button type="submit" class="compliance-button" style="margin-top: 20px;">Upload and Check Compliance</button>
        </div>
    </form>
</div>

    <script>

// In your file upload success handler
function handleUploadSuccess(response) {
    if (response.is_mp4) {
        // For MP4 files, call the process_video endpoint
        fetch('/process_video', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify({
                filename: response.filename
            })
        })
        .then(response => response.json())
        .then(data => {
            if (data.redirect) {
                window.location.href = data.redirect;
            } else {
                // Show a spinner or message while processing
                loadingMessage.textContent = "Processing video file...";
            }
        })
        .catch(error => {
            console.error("Error processing video:", error);
            alert('An error occurred while processing the video: ' + error.message);
        });
    } else {
        // For other files, continue with normal processing
        startProgressTracking(response.filename);
    }
}



// Add this to your page's JavaScript (e.g., in a <script> tag or in your main JS file)
document.addEventListener('DOMContentLoaded', function() {
    // Listen for the form submission
    const uploadForm = document.querySelector('form');
    if (uploadForm) {
        uploadForm.addEventListener('submit', function(e) {
            const fileInput = this.querySelector('input[type="file"]');
            if (fileInput && fileInput.files[0]) {
                const filename = fileInput.files[0].name;
                
                // Check if file is MP4
                if (filename.toLowerCase().endsWith('.mp4')) {
                    // Store the filename in sessionStorage for later use
                    sessionStorage.setItem('processingMp4File', filename);
                    
                    // Set a timeout to check if processing stalled
                    setTimeout(function() {
                        const progressElement = document.getElementById('progress-bar');
                        if (progressElement && parseFloat(progressElement.style.width || '0') < 80) {
                            // If progress is still under 80% after 10 seconds, force completion
                            console.log('MP4 processing appears stalled, forcing completion');
                            
                            // Force set progress to 100%
                            if (progressElement) progressElement.style.width = '100%';
                            
                            // Force redirect to process page
                            const mp4Filename = sessionStorage.getItem('processingMp4File');
                            if (mp4Filename) {
                                window.location.href = `/process/${mp4Filename}`;
                            }
                        }
                    }, 10000); // 10 second timeout
                }
            }
        });
    }
    
    // Check for redirect param in URL (fallback for server-side issues)
    const urlParams = new URLSearchParams(window.location.search);
    const redirectFile = urlParams.get('redirect_to_file');
    if (redirectFile) {
        window.location.href = `/process/${redirectFile}`;
    }
});


// Combined carousel functionality
document.addEventListener('DOMContentLoaded', function() {
    // Background Image Carousel
    const heroSlides = document.querySelectorAll('.hero-slide');
    let currentHeroSlide = 0;
    
    function showHeroSlide(index) {
        heroSlides.forEach(slide => {
            slide.classList.remove('active');
        });
        heroSlides[index].classList.add('active');
    }
    
    function rotateHeroSlides() {
        currentHeroSlide = (currentHeroSlide + 1) % heroSlides.length;
        showHeroSlide(currentHeroSlide);
        
        // Clear the interval and restart after 2 seconds
        clearInterval(heroIntervalId);
        setTimeout(function() {
            heroIntervalId = setInterval(rotateHeroSlides, 2000);
        }, 2000);
    }
    
    // Set 2-second rotation for background images
    let heroIntervalId = setInterval(rotateHeroSlides, 2000);
    
    // Improved Text Carousel 
    const textSlides = document.querySelectorAll('.message-carousel .carousel-slide');
    
    // If no slides are found, add a default one
    if (textSlides.length === 0) {
        const defaultSlide = document.createElement('div');
        defaultSlide.className = 'carousel-slide active';
        defaultSlide.textContent = 'Communicate with clarity and consistency...';
        document.querySelector('.message-carousel').appendChild(defaultSlide);
    }
    
    let currentTextSlide = 0;
    
    function showTextSlide(index) {
        // Hide all slides first
        textSlides.forEach(slide => {
            slide.classList.remove('active');
            slide.style.display = 'none'; // Ensure it's hidden
        });
        
        // Show the current slide
        if (textSlides[index]) {
            textSlides[index].classList.add('active');
            textSlides[index].style.display = 'block'; // Ensure it's visible
        }
    }
    
    function rotateTextSlides() {
        currentTextSlide = (currentTextSlide + 1) % textSlides.length;
        showTextSlide(currentTextSlide);
        
        // Clear the interval and restart after 2 seconds
        clearInterval(textIntervalId);
        setTimeout(function() {
            textIntervalId = setInterval(rotateTextSlides, 2000);
        }, 2000);
    }
    
    // Show first slide initially
    showTextSlide(currentTextSlide);
    
    // Set rotation with a 2-second delay
    let textIntervalId = setInterval(rotateTextSlides, 2000);
    
    // Add a backup check to ensure at least one slide is visible
    setTimeout(() => {
        const activeSlides = document.querySelectorAll('.carousel-slide.active');
        if (activeSlides.length === 0 && textSlides.length > 0) {
            textSlides[0].classList.add('active');
            textSlides[0].style.display = 'block';
        }
    }, 1000);
    
    // Get Started Button functionality
    const getStartedBtn = document.getElementById('getStartedBtn');
    if (getStartedBtn) {
        getStartedBtn.addEventListener('click', function() {
            const instructionsSection = document.querySelector('.usage-instructions');
            if (instructionsSection) {
                // Calculate position to scroll to (slightly above the element)
                const rect = instructionsSection.getBoundingClientRect();
                const scrollPosition = window.pageYOffset + rect.top - 120; // 120px above the element
                
                // Smooth scroll to that position
                window.scrollTo({
                    top: scrollPosition,
                    behavior: 'smooth'
                });
                
                setTimeout(() => {
                    const instructionItems = document.querySelectorAll('.instruction-item');
                    instructionItems.forEach(item => {
                        item.classList.add('highlight-box', 'pulse-animation-box');
                        
                        setTimeout(() => {
                            item.classList.remove('highlight-box', 'pulse-animation-box');
                        }, 2000);
                    });
                }, 500);
            }
        });
    }
});

// Add this function to close all modals before opening a new one
function closeAllModals() {
    const allModals = document.querySelectorAll('.modal-overlay');
    allModals.forEach(modal => {
        modal.classList.remove('active');
    });
}

// Add this to handle the modal overlay functionality
    document.addEventListener('DOMContentLoaded', function() {
        // Get elements
        const fileUploadBox = document.getElementById('fileUploadBox');
        const textInputBox = document.getElementById('textInputBox');
        const orDivider = document.getElementById('orDivider');
        const fileInput = document.getElementById('file');
        const textArea = document.getElementById('text_input');
        
        // Create modal containers
        const fileUploadModal = document.createElement('div');
        fileUploadModal.className = 'modal-overlay';
        fileUploadModal.id = 'fileUploadModal';
        
        const textInputModal = document.createElement('div');
        textInputModal.className = 'modal-overlay';
        textInputModal.id = 'textInputModal';
        
        // Create modal content containers
        const fileModalContent = document.createElement('div');
        fileModalContent.className = 'modal-content';
        
        const textModalContent = document.createElement('div');
        textModalContent.className = 'modal-content';
        
        // Create close buttons
        const closeFileModal = document.createElement('button');
        closeFileModal.className = 'close-modal';
        closeFileModal.innerHTML = '<i class="fas fa-times"></i>';
        closeFileModal.addEventListener('click', function() {
            fileUploadModal.classList.remove('active');
        });
        
        const closeTextModal = document.createElement('button');
        closeTextModal.className = 'close-modal';
        closeTextModal.innerHTML = '<i class="fas fa-times"></i>';
        closeTextModal.addEventListener('click', function() {
            textInputModal.classList.remove('active');
        });
        
        // Set up modal structure
        fileModalContent.appendChild(closeFileModal);
        textModalContent.appendChild(closeTextModal);
        
        // Move the boxes to the modals
        document.body.appendChild(fileUploadModal);
        document.body.appendChild(textInputModal);
        
        // Function to show file upload modal
        function showFileUploadModal() {

            closeAllModals(); // Close any open modals first

            // Move the file upload box to the modal content
            fileModalContent.appendChild(fileUploadBox);
            fileUploadModal.appendChild(fileModalContent);
            
            // Make sure file input is enabled
            fileInput.disabled = false;
            fileUploadBox.classList.remove('dimmed');
            
            // Display the modal
            fileUploadBox.style.display = 'block';
            fileUploadModal.classList.add('active');
            
            // Add animation
            fileUploadBox.classList.add('fade-in');
            setTimeout(() => fileUploadBox.classList.remove('fade-in'), 1000);
        }
        
        // Function to show text input modal
        function showTextInputModal() {
            // Move the text input box to the modal content
            textModalContent.appendChild(textInputBox);
            textInputModal.appendChild(textModalContent);
            
            // Make sure text area is enabled
            textArea.disabled = false;
            textInputBox.classList.remove('dimmed');
            
            // Display the modal
            textInputBox.style.display = 'block';
            textInputModal.classList.add('active');
            
            // Add animation
            textInputBox.classList.add('fade-in');
            setTimeout(() => textInputBox.classList.remove('fade-in'), 1000);
        }
        
        // Get instruction items
        const uploadFileSection = document.querySelector('.instruction-item:first-child');
        const quickCheckSection = document.querySelector('.instruction-item:last-child');
        
        // Add click event to Upload File section
        uploadFileSection.addEventListener('click', showFileUploadModal);
        
        // Add click event to Quick Check section
        quickCheckSection.addEventListener('click', showTextInputModal);
        
        // Hide the original containers
        fileUploadBox.style.display = 'none';
        textInputBox.style.display = 'none';
        orDivider.style.display = 'none';
        
        // Override form submission to close the modals
        const originalHandleFormSubmit = window.handleFormSubmit;
        if (originalHandleFormSubmit) {
            window.handleFormSubmit = function(event) {
                fileUploadModal.classList.remove('active');
                textInputModal.classList.remove('active');
                return originalHandleFormSubmit(event);
            };
        }
        
        // Override analyzeTextForCompliance but DON'T close the modal
const originalAnalyzeTextForCompliance = window.analyzeTextForCompliance;
if (originalAnalyzeTextForCompliance) {
    window.analyzeTextForCompliance = async function() {
        await originalAnalyzeTextForCompliance();
        // Don't close the modal after analysis
    };
}
        
        // Override analyzeFileDirectly to close the modal
        const originalAnalyzeFileDirectly = window.analyzeFileDirectly;
        if (originalAnalyzeFileDirectly) {
            window.analyzeFileDirectly = function() {
                fileUploadModal.classList.remove('active');
                return originalAnalyzeFileDirectly();
            };
        }
        
        // Modify the switch input buttons to switch between modals
        document.addEventListener('click', function(e) {
            if (e.target && e.target.classList.contains('switch-input-button')) {
                if (e.target.closest('#fileUploadBox')) {
                    fileUploadModal.classList.remove('active');
                    setTimeout(() => {
                        showTextInputModal();
                    }, 300);
                } else if (e.target.closest('#textInputBox')) {
                    textInputModal.classList.remove('active');
                    setTimeout(() => {
                        showFileUploadModal();
                    }, 300);
                }
            }
        });
        
        // Allow clicking outside the modal to close it
        fileUploadModal.addEventListener('click', function(e) {
            if (e.target === fileUploadModal) {
                fileUploadModal.classList.remove('active');
            }
        });
        
        textInputModal.addEventListener('click', function(e) {
    // Do nothing when clicking outside the modal
    // This prevents the Quick Check box from closing when clicking outside
});
    });


// Add this to conditionally hide Admin dropdown based on user permissions
document.addEventListener('DOMContentLoaded', async function() {
    try {
        // Fetch the current user's data
        const response = await fetch('/api/current-user');
        if (!response.ok) {
            throw new Error('Failed to fetch user data');
        }

        const user = await response.json();
        
        // Check if the user has admin access
        const hasAdminAccess = user["Administrator Access NEW"] === "Yes";
        
        // Get the Admin dropdown element
        const adminDropdown = document.querySelector('.site-navigation ul li.dropdown');
        
        // Hide the Admin dropdown if user doesn't have admin access
        if (!hasAdminAccess && adminDropdown) {
            adminDropdown.style.display = 'none';
        }
    } catch (error) {
        console.error('Error checking admin status:', error);
        // Hide Admin dropdown by default if there's an error
        const adminDropdown = document.querySelector('.site-navigation ul li.dropdown');
        if (adminDropdown) {
            adminDropdown.style.display = 'none';
        }
    }
});

function goBack() {
    // Clear the file input
    const fileInput = document.getElementById('file');
    fileInput.value = '';
    
    // Hide file name display
    const fileNameDisplay = document.getElementById('fileName');
    fileNameDisplay.style.display = 'none';
    fileNameDisplay.textContent = '';
    
    // Enable text input box
    const textInputBox = document.getElementById('textInputBox');
    textInputBox.classList.remove('dimmed');
    const textArea = document.getElementById('text_input');
    textArea.disabled = false;
    
    // Hide analyze and go back buttons, show select file button
    const fileAnalyzeButton = document.getElementById('fileAnalyzeButton');
    fileAnalyzeButton.style.display = 'none';
    const goBackButton = document.getElementById('goBackButton');
    goBackButton.style.display = 'none';
    const selectFileButton = document.getElementById('selectFileButton');
    selectFileButton.style.display = 'inline-block';
    
    // Show drag and drop text
    const dragDropText = document.getElementById('dragDropText');
    dragDropText.style.display = 'block';
}

function analyzeFileDirectly() {
    // Get the file
    const fileInput = document.getElementById('file');
    if (!fileInput.files.length) {
        alert('Please select a file to analyze.');
        return;
    }
    
    const file = fileInput.files[0];
    const fileName = file.name.toLowerCase();
    
    // Show loading overlay
    loadingOverlay.style.visibility = 'visible';
    
    // Reset progress bar
    const progressBar = document.getElementById('progress-bar');
    const progressText = document.getElementById('progress-text');
    progressBar.style.width = '0%';
    progressText.innerText = 'Progress: 0%';
    
    // Create FormData
    const formData = new FormData();
    formData.append('file', file);
    
    // Upload the file first to get a filename for tracking
    fetch('/upload_file', { 
        method: 'POST', 
        body: formData 
    })
    .then(response => response.json())
    .then(data => {
        if (data.filename) {
            // Track progress for both PDF and MP4 files
            trackProgress(data.filename);
            
            // For MP4 files, redirect to process page after showing some progress
            if (fileName.endsWith('.mp4')) {
                // Just wait 3 seconds to show some progress before redirecting
                setTimeout(() => {
                    window.location.href = `/process/${encodeURIComponent(data.filename)}`;
                }, 3000);
                return;
            }
            
            // Original code for PDF files continues here...
            setTimeout(() => {
                // Create a new FormData for the main analysis request
                const analysisFormData = new FormData();
                analysisFormData.append('file', file);
                analysisFormData.append('distribution_channel', JSON.stringify(['social_media']));
                analysisFormData.append('distribution_method', JSON.stringify(['Written Social Media Post']));
                
                // Submit the form data - this goes directly to results page
                fetch("/", {
                    method: "POST",
                    body: analysisFormData
                })
                .then(response => {
                    if (response.redirected) {
                        window.location.href = response.url;
                    } else {
                        return response.text().then(text => {
                            throw new Error('Server returned: ' + text);
                        });
                    }
                })
                .catch(error => {
                    console.error("Error analyzing file:", error);
                    loadingOverlay.style.visibility = 'hidden';
                    alert('An error occurred while analyzing the file: ' + error.message);
                });
            }, 3000);
        } else {
            throw new Error('File upload failed.');
        }
    })
    .catch(error => {
        console.error("Error analyzing file:", error);
        loadingOverlay.style.visibility = 'hidden';
        alert('An error occurred while analyzing the file: ' + error.message);
    });
}




function selectFileAndSubmit() {
    // Create a temporary file input element
    const tempFileInput = document.createElement('input');
    tempFileInput.type = 'file';
    tempFileInput.accept = '.pdf,.mp4';
    
    // When a file is selected
    tempFileInput.onchange = function() {
        if (this.files.length > 0) {
            // Set the file in the form's file input
            const formFileInput = document.getElementById('file');
            formFileInput.files = this.files;
            
            // Update UI to show the file name
            handleFileUpload();
            
            // Analyze the file directly
            // analyzeFileDirectly();
        }
    };
    
    // Trigger the file selection dialog
    tempFileInput.click();
}

document.getElementById('uploadForm').addEventListener('submit', function (e) {
    e.preventDefault();
    const fileInput = document.getElementById('file');
    
    if (!fileInput.files.length) {
        alert('Please select a file to upload.');
        return;
    }
    
    const formData = new FormData(this);
    console.log('File uploaded:', fileInput.files[0].name);

    fetch('/upload_file', {
        method: 'POST',
        body: formData
    })
    .then(response => response.json())
    .then(data => {
        console.log('Upload Success:', data);
        alert('Upload successful!');
    })
    .catch(error => {
        console.error('Upload Error:', error);
        alert('Upload failed. Please try again.');
    });
});

// Function to redirect to profile
function goToProfile() {
    window.location.href = '/profile';
}

// Function to redirect to billing
function goToBilling() {
    window.location.href = '/profile'; // Adjust the URL to match your billing route
}

// Retrieve and log the logged-in user
const loggedInUser = localStorage.getItem('loggedInUser');

if (loggedInUser) {
    console.log(`Logged-in user: ${loggedInUser}`);
} else {
    console.log('No user is currently logged in.');
}


// Function to update the progress message
    const messages = [
        "Checking File Type",
        "Evaluating Sentence Structure",
        "Analyzing for Compliance Issues",
        "Finalizing Evaluation"
    ];
    let currentMessageIndex = 0;

    function cycleMessages() {
        const loadingMessage = document.getElementById("loadingMessage");
        loadingMessage.textContent = messages[currentMessageIndex];
        currentMessageIndex = (currentMessageIndex + 1) % messages.length;
    }

    // Cycle messages every 3 seconds
    setInterval(cycleMessages, 3000);





document.getElementById('uploadForm').addEventListener('submit', function (e) {
    e.preventDefault();

    const formData = new FormData(this);
    const progressBar = document.getElementById('progress-bar');
    const progressText = document.getElementById('progress-text');

    // Reset progress bar
    progressBar.style.width = '0%';
    progressText.innerText = 'Progress: 0%';

    // Upload file and start progress tracking
    fetch('/upload_file', { method: 'POST', body: formData })
        .then(response => response.json())
        .then(data => {
            if (data.filename) {
                console.log(`File uploaded: ${data.filename}`);
                trackProgress(data.filename); // Start progress tracking
            } else {
                progressText.innerText = 'Error: File upload failed.';
            }
        })
        .catch(error => {
            console.error('Error uploading file:', error);
            progressText.innerText = 'Error uploading file.';
        });
});

function trackProgress(filename) {
    const progressUrl = `/progress/${encodeURIComponent(filename)}`;
    const progressBar = document.getElementById('progress-bar');
    const progressText = document.getElementById('progress-text');
    const flaggedInstancesList = document.getElementById('flaggedInstancesListContainer');
    // Removed the terminal feed container reference
    let finalFlaggedFound = false;
    let isSimulatingProgress = false;

    const eventSource = new EventSource(progressUrl);

    eventSource.onmessage = function (event) {
        const data = event.data.trim();
        console.log('Received data:', data);

        // Add flagged instance to the list
        if (data.startsWith("Flagged Instance:")) {
            const flaggedItem = document.createElement('li');
            flaggedItem.textContent = data.replace("Flagged Instance:", "").trim();
            flaggedInstancesList.appendChild(flaggedItem);
        }

        // Detect final flagged instance signal
        if (data === "Final Flagged Instances Found") {
            console.log("Final flagged instances detected!");
            finalFlaggedFound = true;

            // Stop simulated progress immediately
            isSimulatingProgress = false;

            // Pause for 2 seconds before rendering completion
            setTimeout(() => {
                progressBar.style.width = `100%`;
                progressText.innerText = 'Processing Complete!';
                eventSource.close();
            }, 2000); // 2-second delay
        }

        // Update progress bar
        const progress = parseFloat(data);
        if (!isNaN(progress)) {
            progressBar.style.width = `${progress}%`;
            progressText.innerText = `Progress: ${progress.toFixed(2)}%`;

            if (progress >= 60 && progress < 90 && !isSimulatingProgress && !finalFlaggedFound) {
                // Stop simulating progress if backend updates are detected
                isSimulatingProgress = true;
            }
            // Removed the code that displays the terminal feed
        }

        // Stop the EventSource when progress reaches 100%
        if (progress === 100) {
            eventSource.close();
        }
    };

    eventSource.onerror = function () {
        console.error('Error connecting to progress endpoint.');
        if (!finalFlaggedFound) {
            progressText.innerText = 'Error tracking progress.';
        }
        eventSource.close();
    };

    function simulateProgress(progressBar, progressText) {
        let simulatedProgress = 60;

        const interval = setInterval(() => {
            if (!isSimulatingProgress || finalFlaggedFound) {
                clearInterval(interval);
                return;
            }

            simulatedProgress += 2;
            if (simulatedProgress >= 90) {
                clearInterval(interval);
                return;
            }

            progressBar.style.width = `${simulatedProgress}%`;
            progressText.innerText = `Progress: ${simulatedProgress}%`;
        }, 2500); // Increase progress by 2% every 2.5 seconds
    }
}

async function analyzeTextForCompliance() {
    const textInput = document.getElementById("text_input").value.trim();
    const resultsDiv = document.getElementById("complianceResults");
    const textAnalyzeButton = document.getElementById("textAnalyzeButton");

    // Hide the analyze button when clicked
    textAnalyzeButton.style.display = "none";
    
    resultsDiv.style.display = "none";
    resultsDiv.innerHTML = "";

    if (!textInput) {
        resultsDiv.textContent = "Please enter text to analyze.";
        resultsDiv.style.display = "block";
        textAnalyzeButton.style.display = "inline-block"; // Show button again
        return;
    }

    // Create loading container
    const loadingContainer = document.createElement("div");
    loadingContainer.className = "loading-container";
    
    // Create dots loading indicator
    const dotsIndicator = document.createElement("div");
    dotsIndicator.className = "loading-dots-container";
    dotsIndicator.innerHTML = `
        <div class="loading-dots">
            <span class="dot"></span>
            <span class="dot"></span>
            <span class="dot"></span>
        </div>
    `;
    
    // Create loading bar (initially hidden)
    const loadingBar = document.createElement("div");
    loadingBar.className = "loading-bar-container";
    loadingBar.innerHTML = `
        <div class="loading-bar-outer">
            <div class="loading-bar-inner"></div>
        </div>
        <div class="loading-text">Analyzing compliance...</div>
    `;
    loadingBar.style.display = "none";
    
    // Add CSS for loading animations
    const style = document.createElement('style');
    style.textContent = `
        .loading-container {
            padding: 20px 0;
            text-align: center;
        }
        .loading-dots-container {
            display: flex;
            justify-content: center;
            margin-bottom: 15px;
        }
        .loading-dots {
            display: flex;
            align-items: center;
        }
        .dot {
            height: 10px;
            width: 10px;
            margin: 0 5px;
            background-color: #007bff;
            border-radius: 50%;
            animation: pulse 1.5s infinite ease-in-out;
        }
        .dot:nth-child(2) {
            animation-delay: 0.3s;
        }
        .dot:nth-child(3) {
            animation-delay: 0.6s;
        }
        @keyframes pulse {
            0%, 100% {
                transform: scale(0.8);
                opacity: 0.5;
            }
            50% {
                transform: scale(1.2);
                opacity: 1;
            }
        }
        .loading-bar-container {
            text-align: center;
            margin-bottom: 15px;
        }
        .loading-bar-outer {
            height: 10px;
            background-color: #e9ecef;
            border-radius: 5px;
            margin: 0 auto 10px auto;
            width: 80%;
        }
        .loading-bar-inner {
            height: 100%;
            background-color: #007bff;
            border-radius: 5px;
            width: 0%;
            transition: width 0.1s ease;
        }
        .loading-text {
            font-size: 14px;
            color: #6c757d;
        }
        .compliance-status-button {
            margin-top: 15px;
            padding: 10px 15px;
            border: none;
            border-radius: 5px;
            color: #fff;
            cursor: pointer;
            width: 100%;
            box-sizing: border-box;
            font-weight: bold;
        }
        .initial-rationale {
            background-color: #f8d7da;
            border: 1px solid #f5c6cb;
            color: #721c24;
            padding: 15px;
            margin-top: 15px;
            border-radius: 5px;
            font-weight: 500;
        }
        .compliance-issue {
            background-color: #f8d7da;
            border: 1px solid #f5c6cb;
            color: #721c24;
            padding: 10px;
            margin-top: 10px;
            border-radius: 5px;
        }
        .check-another-button {
            margin-top: 20px;
            padding: 8px 15px;
            border: 1px solid #ccc;
            border-radius: 5px;
            background-color: #f8f9fa;
            cursor: pointer;
            width: 100%;
            box-sizing: border-box;
        }
    `;
    document.head.appendChild(style);
    
    // Add loading elements to container
    loadingContainer.appendChild(dotsIndicator);
    loadingContainer.appendChild(loadingBar);
    
    // Add loading container to results div
    resultsDiv.appendChild(loadingContainer);
    resultsDiv.style.display = "block";

    // Function to display non-compliance
    function displayNonCompliance(ruleViolation) {
        // Clear the loading indicator
        resultsDiv.innerHTML = "";
        
        // Create result container
        const resultContainer = document.createElement("div");
        resultContainer.className = "compliance-result";
        
        // Create the non-compliant status button
        const statusButton = document.createElement("button");
        statusButton.className = "compliance-status-button";
        statusButton.textContent = "✗ Potential Issues Identified";
        statusButton.style.backgroundColor = "#dc3545";
        
        // Create rationale based on the verification response
        const initialRationale = document.createElement("div");
        initialRationale.className = "initial-rationale";
        
        // Extract rule information from the response
        let ruleInfo = "";
        if (ruleViolation.includes("Rule 2") || ruleViolation.includes("promissory") || ruleViolation.includes("guarantee")) {
            ruleInfo = "This text contains promises or guarantees about performance which violates FINRA regulations. Consider using qualifying language like 'may' instead of 'will' and avoiding absolute statements.";
        } else if (ruleViolation.includes("exaggerat")) {
            ruleInfo = "This text contains exaggerated claims which violates FINRA regulations. Consider toning down superlatives and providing a more balanced view of potential outcomes.";
        } else if (ruleViolation.includes("prediction") || ruleViolation.includes("forecast")) {
            ruleInfo = "This text contains predictions about market movements which violates FINRA regulations. Consider acknowledging uncertainty and avoiding definitive statements about future outcomes.";
        } else if (ruleViolation.includes("mislead")) {
            ruleInfo = "This text could potentially mislead investors in a way that violates FINRA regulations. Consider providing more context and ensuring all claims are accurately represented.";
        } else if (ruleViolation.includes("unbalanced")) {
            ruleInfo = "This text presents an unbalanced view of risks and benefits which violates FINRA regulations. Consider giving equal weight to both risks and benefits to provide a more complete picture.";
        } else {
            ruleInfo = "This text appears to violate FINRA compliance regulations and should be revised.";
        }
        
        initialRationale.textContent = ruleInfo;
        
        // Create the check another text button
        const checkAnotherButton = document.createElement("button");
        checkAnotherButton.className = "check-another-button";
        checkAnotherButton.textContent = "Check Another Text";
        
        checkAnotherButton.addEventListener("click", function() {
            // Clear the results
            resultsDiv.style.display = "none";
            resultsDiv.innerHTML = "";
            
            // Clear the text input
            document.getElementById("text_input").value = "";
            
            // Show the analyze button again
            textAnalyzeButton.style.display = "inline-block";
        });
        
        // Assemble the UI
        resultContainer.appendChild(statusButton);
        resultContainer.appendChild(initialRationale);
        resultContainer.appendChild(checkAnotherButton);
        
        // Add to results div
        resultsDiv.innerHTML = "";
        resultsDiv.appendChild(resultContainer);
    }

    // Variable to track if the API response has been received
    let responseReceived = false;
    let responseData = null;

    // Start the API call
    const apiPromise = fetch("/verification_only", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({ text: textInput })
    })
    .then(response => response.json())
    .then(data => {
        responseReceived = true;
        responseData = data;
        return data;
    })
    .catch(error => {
        console.error("Error during compliance check:", error);
        responseReceived = true;
        throw error;
    });

    // Start the animation sequence with timing
    // First, show dots for 2 seconds
    await new Promise(resolve => setTimeout(resolve, 2000));
    
    // If response already received, show results
    if (responseReceived) {
        handleResponse(responseData);
        return;
    }
    
    // Otherwise, switch to progress bar
    dotsIndicator.style.display = "none";
    loadingBar.style.display = "block";
    
    // Animate progress bar over 4 seconds
    const barInner = loadingBar.querySelector(".loading-bar-inner");
    const startTime = Date.now();
    const duration = 4000; // 4 seconds
    
    const animateBar = () => {
        if (responseReceived) {
            barInner.style.width = "100%";
            setTimeout(() => handleResponse(responseData), 250); // Small delay for visual completion
            return;
        }
        
        const elapsed = Date.now() - startTime;
        const progress = Math.min(elapsed / duration * 100, 99); // Cap at 99% until complete
        
        barInner.style.width = progress + "%";
        
        if (elapsed < duration) {
            requestAnimationFrame(animateBar);
        } else {
            // After 4 seconds, if still no response, wait for it
            // The bar will stay at 99% until response arrives
            apiPromise.then(data => {
                handleResponse(data);
            }).catch(error => {
                resultsDiv.innerHTML = "";
                resultsDiv.textContent = "An error occurred. Please try again.";
                resultsDiv.style.display = "block";
                textAnalyzeButton.style.display = "inline-block";
            });
        }
    };
    
    requestAnimationFrame(animateBar);
    
    // Function to handle the response data
    function handleResponse(data) {
        // Clear the loading indicator
        resultsDiv.innerHTML = "";
        
        // Create result container
        const resultContainer = document.createElement("div");
        resultContainer.className = "compliance-result";
        
        if (data.is_non_compliant) {
            // Display non-compliance with the verification response
            displayNonCompliance(data.verification_response);
        } else {
            // Create compliant button
            const statusButton = document.createElement("button");
            statusButton.className = "compliance-status-button";
            statusButton.textContent = "✓ Appears Compliant";
            statusButton.style.backgroundColor = "#28a745";
            
            // Create message
            const compliantMessage = document.createElement("div");
            compliantMessage.className = "initial-rationale";
            compliantMessage.style.backgroundColor = "#d4edda";
            compliantMessage.style.borderColor = "#c3e6cb";
            compliantMessage.style.color = "#155724";
            compliantMessage.textContent = "No compliance issues found. This text appears to be compliant with FINRA regulations.";
            
            // Create the check another text button
            const checkAnotherButton = document.createElement("button");
            checkAnotherButton.className = "check-another-button";
            checkAnotherButton.textContent = "Check Another Text";
            
            checkAnotherButton.addEventListener("click", function() {
                resultsDiv.style.display = "none";
                resultsDiv.innerHTML = "";
                document.getElementById("text_input").value = "";
                textAnalyzeButton.style.display = "inline-block";
            });
            
            // Assemble the UI
            resultContainer.appendChild(statusButton);
            resultContainer.appendChild(compliantMessage);
            resultContainer.appendChild(checkAnotherButton);
            
            // Add to results div
            resultsDiv.appendChild(resultContainer);
        }
    }
}






        const fileUploadBox = document.getElementById('fileUploadBox');
        const fileInput = document.getElementById('file');
        const fileNameDisplay = document.getElementById('fileName');
        const selectFileButton = document.getElementById('selectFileButton');
        const textInputBox = document.getElementById('textInputBox');
        const textArea = document.getElementById('text_input');
        const fileAnalyzeButton = document.getElementById('fileAnalyzeButton');
        const textAnalyzeButton = document.getElementById('textAnalyzeButton');
        const finalSection = document.getElementById('finalSection');
        const orDivider = document.getElementById('orDivider');
        const dragDropText = document.getElementById('dragDropText');
        const uploadForm = document.getElementById('uploadForm');
        const loadingOverlay = document.getElementById('loadingOverlay');
        const loadingMessage = document.getElementById('loadingMessage');
        
        const loadingSteps = [
            "Checking File Type",
            "Evaluating Sentence Structure",
            "Analyzing for Compliance Issues",
            "Finalizing Evaluation"
        ];
        let stepIndex = 0;

        // Drag-and-drop events for file upload
        fileUploadBox.addEventListener('dragover', (e) => {
            e.preventDefault();
            fileUploadBox.classList.add('dragover');
        });

        fileUploadBox.addEventListener('dragleave', () => fileUploadBox.classList.remove('dragover'));

        fileUploadBox.addEventListener('drop', (e) => {
            e.preventDefault();
            fileUploadBox.classList.remove('dragover');
            if (e.dataTransfer.files.length > 0) {
                fileInput.files = e.dataTransfer.files;
                handleFileUpload();
            }
        });

        fileInput.addEventListener('change', () => {
            if (fileInput.files.length > 0) {
                handleFileUpload();
            }
        });

        function handleFileUpload() {
    const fileName = fileInput.files[0].name;
    fileNameDisplay.style.display = 'block';
    fileNameDisplay.textContent = `Attached file: ${fileName}`;
    // Remove these two lines that affect the text input box
    // textInputBox.classList.add('dimmed');
    // textArea.disabled = true;
    fileAnalyzeButton.style.display = 'inline-block';
    selectFileButton.style.display = 'none';
    dragDropText.style.display = 'none';

    // Display the Go Back button
    const goBackButton = document.getElementById('goBackButton');
    goBackButton.style.display = 'inline-block';
}

        textArea.addEventListener('input', () => {
    // First, hide the compliance results if they're visible
    document.getElementById('complianceResults').style.display = 'none';
    
    // Only show/hide the analyze button based on text content
    if (textArea.value.trim() !== "") {
        // Always show the Analyze button when there's text in the textarea
        textAnalyzeButton.style.display = 'inline-block';
    } else {
        textAnalyzeButton.style.display = 'none';
    }
});

        function triggerInstantHide() {
            fileUploadBox.classList.add('hidden');
            textInputBox.classList.add('hidden');
            orDivider.classList.add('hidden');
            finalSection.style.display = 'block';
        }

        async function handleFormSubmit(event) {
    event.preventDefault();
    
    // Check if the file is an MP4
    const fileInput = document.getElementById('file');
    if (fileInput.files.length > 0 && fileInput.files[0].name.toLowerCase().endsWith('.mp4')) {
        // For MP4 files, immediately redirect to the process page after a short delay
        const filename = fileInput.files[0].name;
        
        // Show loading overlay briefly
        loadingOverlay.style.visibility = 'visible';
        loadingMessage.textContent = "Processing MP4 file...";
        
        setTimeout(() => {
            window.location.href = `/process/${encodeURIComponent(filename)}`;
        }, 1000);
        
        return false;
    }
    
    loadingOverlay.style.visibility = 'visible';  // Show spinner
    const loadingPercentage = document.getElementById('loadingPercentage');
    let progress = 0;
    stepIndex = 0; // Reset step index
    loadingMessage.textContent = loadingSteps[stepIndex]; // Start with the first message
    
    const interval = setInterval(() => {
        stepIndex++;
        progress = Math.floor((stepIndex / loadingSteps.length) * 100); // Calculate percentage
        loadingPercentage.textContent = `${progress}% Complete`; // Update the displayed percentage

        if (stepIndex < loadingSteps.length) {
            loadingMessage.textContent = loadingSteps[stepIndex];
        } else {
            clearInterval(interval); // Stop updating messages
        }
    }, 1000); // Change message every second

    const distributionMethod = document.getElementById('distribution_method').value;
    if (!distributionMethod) {
        alert("Please select a distribution method.");
        loadingOverlay.style.visibility = 'hidden';  // Hide spinner on error
        clearInterval(interval);
        return false;
    }

    const formData = new FormData(); // Create FormData object

    formData.append('distribution_channel', JSON.stringify(getSelectedValues(document.getElementById('distribution_channel'))));

    // Add this block to log form data
    for (let [key, value] of formData.entries()) {
        console.log(key, value); // Log submitted keys and values
    }

    if (textArea.value.trim()) {
        const pdfFile = await convertTextToPDF();
        if (!pdfFile) {
            loadingOverlay.style.visibility = 'hidden';
            clearInterval(interval);
            return false;
        }
        formData.append('file', pdfFile);
    } else if (fileInput.files.length > 0) {
        formData.append('file', fileInput.files[0]);
    } else {
        alert("Please upload a file or enter text to analyze.");
        loadingOverlay.style.visibility = 'hidden';
        clearInterval(interval);
        return false;
    }

    formData.append('distribution_method', distributionMethod);

    fetch("/", { method: "POST", body: formData })
        .then(response => {
            if (response.redirected) {
                window.location.href = response.url;
            }
        })
        .catch(error => {
            console.error("Error submitting form:", error);
            loadingOverlay.style.visibility = 'hidden';
            clearInterval(interval);
        });

    return false;
}

           
            document.getElementById('distribution_channel').addEventListener('change', function() {
    if (this.value === 'social_media') {
        localStorage.setItem('showComplianceLink', 'true');
    } else {
        localStorage.removeItem('showComplianceLink');
    }
});

            document.getElementById('distribution_method').addEventListener('change', function() {
    if (this.value === 'written_social_media_post') {
        localStorage.setItem('hideRevisedText', 'true');
    } else {
        localStorage.removeItem('hideRevisedText');
    }
});
            // Automatically toggle selection for multi-select dropdowns
function enableAutoMultiSelect(selectElement) {
    selectElement.addEventListener('mousedown', function(event) {
        event.preventDefault(); // Prevent default multi-select behavior
        const option = event.target;
        if (option.tagName === 'OPTION') {
            option.selected = !option.selected; // Toggle selection
            selectElement.dispatchEvent(new Event('change')); // Trigger change event
        }
    });
}

// Function to get selected values from a multi-select dropdown
function getSelectedValues(selectElement) {
    return Array.from(selectElement.selectedOptions).map(option => option.value);
}

// Initialize the multi-select dropdowns
function initializeMultiSelects() {
    const distributionChannel = document.getElementById('distribution_channel');
    const distributionMethod = document.getElementById('distribution_method');

    enableAutoMultiSelect(distributionChannel);
    enableAutoMultiSelect(distributionMethod);

    // Logging and localStorage updates on change
    distributionChannel.addEventListener('change', function () {
        const selectedChannels = getSelectedValues(this);
        console.log('Selected Channels:', selectedChannels);
        localStorage.setItem('selectedChannels', JSON.stringify(selectedChannels));
    });

    distributionMethod.addEventListener('change', function () {
        const selectedMethods = getSelectedValues(this);
        console.log('Selected Methods:', selectedMethods);
        localStorage.setItem('selectedMethods', JSON.stringify(selectedMethods));
    });
}

// Initialize everything
initializeMultiSelects();


document.addEventListener('DOMContentLoaded', async () => {
    const loggedInUser = localStorage.getItem('loggedInUser');

    if (loggedInUser) {
        console.log(`Logged-in user: ${loggedInUser}`);

        // Check subscription status
        try {
            const response = await fetch(`/api/check_subscription?email=${encodeURIComponent(loggedInUser)}`);
            const data = await response.json();

            if (data.showPaymentPopup) {
                // Display the payment overlay
                // Remove or condition this call if you want the date-based check to decide
     }

        } catch (error) {
            console.error('Error checking subscription:', error);
        }
    } else {
        console.log('No user is currently logged in.');
    }
});

// Function to redirect to billing
function goToBilling() {
    window.location.href = '/profile'; // Adjust to match your billing route
}


function goToBilling() {
    // Redirect to the billing section of the profile
    window.location.href = '/profile';
}



document.addEventListener('DOMContentLoaded', () => {
        const loggedInUser = "{{ user_email | safe }}";
        
	// Avoid redundant logs
    	if (window.alreadyLoggedUserCheck) return;
    	window.alreadyLoggedUserCheck = true;


	if (loggedInUser) {
            console.log(`Logged-in user: ${loggedInUser}`);
        } else {
            console.log('No user is logged in.');
        }
    });

document.addEventListener('DOMContentLoaded', () => {
    // Check if the user is newly registered
    if (localStorage.getItem('newlyRegistered') === 'true') {
        console.log('User just registered. Displaying payment details overlay.');

        // Display the payment overlay
        const paymentOverlay = document.getElementById('paymentDetailsOverlay');
        if (paymentOverlay) {
            
            console.log("Overlay should be visible.");
        }

        // Clear the flag to prevent re-showing
        localStorage.removeItem('newlyRegistered');
    }
});

document.addEventListener('DOMContentLoaded', () => {
    // Check if the user is logging in for the first time
    const loggedInUser = localStorage.getItem('loggedInUser');
    const firstTimeLoginKey = `${loggedInUser}_firstTimeLogin`;

    // If the flag is not set, it's the first login
    if (loggedInUser && !localStorage.getItem(firstTimeLoginKey)) {
        // Display the payment overlay
        const paymentOverlay = document.getElementById('paymentDetailsOverlay');
        console.log("Payment overlay is shown.");
        if (paymentOverlay) {
            
            console.log("Overlay should be visible.");
        }

        // Set the flag to avoid showing the overlay again
        localStorage.setItem(firstTimeLoginKey, 'false');
    }
});

// Function to redirect to billing
function goToBilling() {
    window.location.href = '/profile'; // Adjust URL to match your billing route
}



document.addEventListener('DOMContentLoaded', async () => {
    try {
        // Fetch the current user's data
        const response = await fetch('/api/current-user');
        if (!response.ok) {
            throw new Error('Failed to fetch user data');
        }

        const user = await response.json();

        // Check if the user is an Administrator
        if (user.Administrator === "Yes") {
            document.getElementById('adminTab').style.display = 'block'; // Show the Admin tab
        }
    } catch (error) {
        console.error('Error checking admin status:', error);
    }
});

// Add this to your Uploads HTML file
document.addEventListener('DOMContentLoaded', function() {
    // Check if advisor type has been selected
    if (localStorage.getItem('advisorTypeSelected') === 'true') {
        // Find and hide the popup
        const popup = document.querySelector('.your-popup-class-name'); // Replace with your actual popup class
        if (popup) {
            popup.style.display = 'none';
        }
    }
});

// Replace ALL of them with this single function:
function showOverlayIfNoAdvisorType() {
    const paymentOverlay = document.getElementById('paymentDetailsOverlay');
    
    // First, always show the overlay to ensure it appears
    paymentOverlay.style.display = 'block';
    
    // Disable all inputs except the "Go to Profile" button
    document.querySelectorAll('input, select, textarea, button').forEach(el => {
        if (el.id !== 'goToBillingButton') {
            el.disabled = true;
            el.style.pointerEvents = 'none';
        }
    });
    
    // Prevent scrolling
    document.body.style.overflow = 'hidden';
    
    // Then check if we need to hide it by fetching user data
    fetch('/api/current-user')
        .then(response => response.json())
        .then(user => {
            console.log("User data:", user);
            
            // Only hide overlay if user has an advisorType
            if (user.advisorType) {
                console.log("Advisor type found:", user.advisorType);
                paymentOverlay.style.display = 'none';
                
                // Re-enable all inputs
                document.querySelectorAll('input, select, textarea, button').forEach(el => {
                    el.disabled = false;
                    el.style.pointerEvents = 'auto';
                });
                
                // Allow scrolling
                document.body.style.overflow = 'auto';
            } else {
                console.log("No advisor type found - keeping overlay visible");
            }
        })
        .catch(error => {
            console.error("Error fetching user data:", error);
        });
}

// Make sure to REPLACE all existing DOMContentLoaded event listeners 
// that call overlay functions with just this ONE:
document.addEventListener('DOMContentLoaded', showOverlayIfNoAdvisorType);

// Carousel functionality with 2-second pause
document.addEventListener('DOMContentLoaded', function() {
    const slides = document.querySelectorAll('.carousel-slide');
    const indicators = document.querySelectorAll('.indicator');
    let currentSlide = 0;
    let intervalId; // Declare the interval variable outside to manage it better
    
    function showSlide(index) {
        // Hide all slides
        slides.forEach(slide => {
            slide.classList.remove('active');
        });
        
        // Remove active class from all indicators
        indicators.forEach(indicator => {
            indicator.classList.remove('active');
        });
        
        // Show current slide and indicator
        slides[index].classList.add('active');
        indicators[index].classList.add('active');
    }
    
    // Auto-rotate slides
    function rotateSlides() {
        currentSlide = (currentSlide + 1) % slides.length;
        showSlide(currentSlide);
        
        // Clear the interval and restart it after 2 seconds
        clearInterval(intervalId);
        setTimeout(function() {
            intervalId = setInterval(rotateSlides, 2000);
        }, 2000);
    }
    
    // Set up click handlers for indicators
    indicators.forEach((indicator, index) => {
        indicator.addEventListener('click', () => {
            currentSlide = index;
            showSlide(currentSlide);
            
            // Reset the rotation timer when manually clicking
            clearInterval(intervalId);
            intervalId = setInterval(rotateSlides, 2000); // Restart with 2-second delay
        });
    });
    
    // Start auto-rotation with 2-second delay
    intervalId = setInterval(rotateSlides, 2000);
    
    // Show first slide initially
    showSlide(currentSlide);
});

document.addEventListener('DOMContentLoaded', function() {
    console.log('Admin access check script loaded');
    
    // Function to check admin status and hide the Admin button if needed
    function checkAdminAccess() {
        console.log('Checking admin access...');
        
        // Get user data from storage or fetch it from the server
        fetch('/api/current-user')
            .then(response => response.json())
            .then(user => {
                console.log('User data received:', user);
                
                // Check if user data exists and the administrator access is "No"
                if (user && user["Administrator Access NEW"] === "No") {
                    console.log('User is not an admin, hiding admin button');
                    
                    // Hide the Admin dropdown - use !important to override other styles
                    const adminDropdown = document.getElementById('adminDropdown');
                    if (adminDropdown) {
                        adminDropdown.style.display = 'none !important';
                        // Also remove it from the DOM flow completely as a fallback
                        adminDropdown.classList.add('hidden-admin');
                    } else {
                        console.log('Admin dropdown element not found');
                    }
                } else {
                    console.log('User has admin access or data is incomplete');
                }
            })
            .catch(error => {
                console.error('Error checking admin access:', error);
            });
    }

    // Run the check when the page loads
    checkAdminAccess();
});


document.getElementById('adminDropdown').addEventListener('mouseenter', function() {
    this.querySelector('.dropdown-menu').style.display = 'block';
});

document.getElementById('adminDropdown').addEventListener('mouseleave', function() {
    this.querySelector('.dropdown-menu').style.display = 'none';
});

    </script>
</form>

<!-- This likely comes after your "Get Started by Uploading..." section -->
<div style="margin-bottom: 200px; width: 100%; clear: both;"></div>


<!-- Replace your existing footer with this one -->
<!-- Full-width footer -->
<footer style="background-color: #2d3741; color: white; padding: 40px 0 20px; width: 100%; box-sizing: border-box; margin: 0; position: relative; left: 0; right: 0;">
    <div style="max-width: 1200px; margin: 0 auto; padding: 0 20px; display: flex; flex-wrap: wrap; justify-content: space-between;">
        <div style="flex: 1; min-width: 200px; margin-bottom: 30px;">
            <h3 style="font-size: 22px; margin-bottom: 20px; font-weight: 600;">Finalyze Compliance Technology</h3>
            <p style="line-height: 1.6; color: rgba(255, 255, 255, 0.8);">Helping firms and financial professionals feel comfortable with the way they communicate, advertise, and advise their clients, families, followers, and friends.</p>
        </div>
        
        <div style="flex: 1; min-width: 200px; margin-bottom: 30px;">
            <h3 style="font-size: 22px; margin-bottom: 20px; font-weight: 600;">Solutions</h3>
            <ul style="list-style: none; padding: 0; margin: 0;">
                <li style="margin-bottom: 12px;"><a href="#" style="color: rgba(255, 255, 255, 0.8); text-decoration: none; transition: color 0.3s;">For Financial Advisors</a></li>
                <li style="margin-bottom: 12px;"><a href="#" style="color: rgba(255, 255, 255, 0.8); text-decoration: none; transition: color 0.3s;">For Broker-Dealers</a></li>
                <li style="margin-bottom: 12px;"><a href="#" style="color: rgba(255, 255, 255, 0.8); text-decoration: none; transition: color 0.3s;">For Compliance Officers</a></li>
                <li style="margin-bottom: 12px;"><a href="#" style="color: rgba(255, 255, 255, 0.8); text-decoration: none; transition: color 0.3s;">Enterprise Solutions</a></li>
            </ul>
        </div>
        
        <div style="flex: 1; min-width: 200px; margin-bottom: 30px;">
            <h3 style="font-size: 22px; margin-bottom: 20px; font-weight: 600;">Resources</h3>
            <ul style="list-style: none; padding: 0; margin: 0;">
                <li style="margin-bottom: 12px;"><a href="#" style="color: rgba(255, 255, 255, 0.8); text-decoration: none; transition: color 0.3s;">Blog</a></li>
                <li style="margin-bottom: 12px;"><a href="#" style="color: rgba(255, 255, 255, 0.8); text-decoration: none; transition: color 0.3s;">Case Studies</a></li>
                <li style="margin-bottom: 12px;"><a href="#" style="color: rgba(255, 255, 255, 0.8); text-decoration: none; transition: color 0.3s;">Compliance Guidelines</a></li>
                <li style="margin-bottom: 12px;"><a href="#" style="color: rgba(255, 255, 255, 0.8); text-decoration: none; transition: color 0.3s;">Documentation</a></li>
            </ul>
        </div>
        
        <div style="flex: 1; min-width: 200px; margin-bottom: 30px;">
            <h3 style="font-size: 22px; margin-bottom: 20px; font-weight: 600;">Contact Us</h3>
            <ul style="list-style: none; padding: 0; margin: 0;">
                <li style="margin-bottom: 12px;"><a href="mailto:info@complicomm.com" style="color: rgba(255, 255, 255, 0.8); text-decoration: none; transition: color 0.3s;">info@complicomm.com</a></li>
                <li style="margin-bottom: 12px;"><a href="tel:+18005551234" style="color: rgba(255, 255, 255, 0.8); text-decoration: none; transition: color 0.3s;">1-800-555-1234</a></li>
                <li style="margin-bottom: 12px;"><a href="#" style="color: rgba(255, 255, 255, 0.8); text-decoration: none; transition: color 0.3s;">Schedule a Demo</a></li>
            </ul>
        </div>
    </div>
    
    <div style="text-align: center; padding-top: 30px; margin-top: 30px; border-top: 1px solid rgba(255, 255, 255, 0.1); width: 100%;">
        <p style="color: rgba(255, 255, 255, 0.6);">&copy; 2025 Finalyze. All rights reserved.</p>
    </div>
</footer>

<!-- Usage Reached Overlay -->
<div id="usageReachedOverlay" 
     style="display: none; 
            position: fixed; 
            top: 0; 
            left: 0; 
            width: 100%; 
            height: 100%; 
            background-color: rgba(0,0,0,0.6); 
            z-index: 99999;">
  <div style="position: absolute; 
              top: 50%; 
              left: 50%; 
              transform: translate(-50%, -50%); 
              background-color: #fff; 
              padding: 30px; 
              border-radius: 8px; 
              text-align: center; 
              width: 300px;
              color: #333;">
    <h2 style="margin-bottom: 10px;">Monthly Usage Reached</h2>
    <p style="margin-bottom: 20px;">Visit Profile, Usage Tracker to Continue</p>
    <button id="goToProfileButton"
            style="padding: 10px; 
                   border: none; 
                   border-radius: 4px; 
                   background-color: #007bff; 
                   color: #fff; 
                   cursor: pointer;"
            onclick="goToProfile()">
      Go to Profile
    </button>
  </div>
</div>
<!-- Payment Details Overlay -->
<div id="paymentDetailsOverlay" 
     style="display: none; 
            position: fixed; 
            top: 0; 
            left: 0; 
            width: 100%; 
            height: 100%; 
            background-color: rgba(0,0,0,0.6); 
            z-index: 99999;">
  <div style="position: absolute; 
              top: 50%; 
              left: 50%; 
              transform: translate(-50%, -50%); 
              background-color: #fff; 
              padding: 30px; 
              border-radius: 8px; 
              text-align: center; 
              width: 300px;
              color: #333;">
    <h2 style="margin-bottom: 10px;">Please Complete Profile Details to Continue</h2>
    <p style="margin-bottom: 20px;">Must Select Advisor Type</p>
    <button id="goToBillingButton"
            style="padding: 10px; 
                   border: none; 
                   border-radius: 4px; 
                   background-color: #007bff; 
                   color: #fff; 
                   cursor: pointer;"
            onclick="goToBilling()">
      Go to Profile
    </button>
  </div>
</div>
</body>
</html>
